#
# redis.conf
# Configuration file for Redis
#

# Network configuration
bind 127.0.0.1    # IP address to bind to (use 0.0.0.0 for all interfaces)
protected-mode no # Disable protected mode (ensure proper security measures)

# Port configuration
port 6379 # Port for Redis to listen on

# Persistence configuration
dir /app/data/redis # Directory to store Redis data
dbfilename dump.rdb # Filename for the snapshot

# Enable Append Only File (AOF) persistence
appendonly yes       # Use AOF to log every write operation
appendfsync everysec # Sync AOF to disk every second

# Save snapshots for backup purposes
save 900 1    # Save after 1 change within 15 minutes
save 300 10   # Save after 10 changes within 5 minutes
save 60 10000 # Save after 10,000 changes within 1 minute

# Security and authentication
# requirepass your_secure_password # Set a secure password (optional)

# Logging configuration
loglevel notice # Set log level (options: debug, verbose, notice, warning)
logfile ""      # Log to standard output (empty string)

# Max memory settings (optional, comment out if not needed)
# maxmemory 256mb       # Maximum memory usage
# maxmemory-policy noeviction # Eviction policy when maxmemory is reached

# Append-only file rewrite options
auto-aof-rewrite-percentage 100 # Rewrite AOF when it grows by 100%
auto-aof-rewrite-min-size 64mb  # Minimum size of AOF file for rewriting

# Client timeout
timeout 300 # Close idle client connections after 300 seconds
